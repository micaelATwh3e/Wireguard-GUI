{% extends "base.html" %}

{% block title %}New User - SecureNet VPN{% endblock %}

{% block content %}
<div class="card" style="max-width: 600px; margin: 3rem auto;">
    <div class="header">
        <h1>
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="8.5" cy="7" r="4"></circle>
                <line x1="20" y1="8" x2="20" y2="14"></line>
                <line x1="23" y1="11" x2="17" y2="11"></line>
            </svg>
            Create New User
        </h1>
        <a href="{{ url_for('admin_dashboard') }}" class="btn btn-secondary">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="19" y1="12" x2="5" y2="12"></line>
                <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
            Back
        </a>
    </div>
    
    <form method="POST" action="{{ url_for('add_user') }}">
        <div class="form-group">
            <label for="username">Username *</label>
            <input type="text" id="username" name="username" required pattern="[a-zA-Z0-9_-]+" 
                   placeholder="alphanumeric characters only">
            <small style="color: var(--gray-500); font-size: 0.813rem; display: block; margin-top: 0.25rem;">
                Only letters, numbers, hyphens, and underscores allowed
            </small>
        </div>
        
        <div class="form-group">
            <label for="password">Password *</label>
            <input type="password" id="password" name="password" required minlength="6"
                   placeholder="minimum 6 characters">
            <small style="color: var(--gray-500); font-size: 0.813rem; display: block; margin-top: 0.25rem;">
                Must be at least 6 characters long
            </small>
        </div>
        
        <div class="form-group">
            <label for="email">Email Address</label>
            <input type="email" id="email" name="email" placeholder="user@example.com">
            <small style="color: var(--gray-500); font-size: 0.813rem; display: block; margin-top: 0.25rem;">
                Optional - for notifications and account recovery
            </small>
        </div>
        
        <div style="background: var(--gray-100); padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem; border-left: 4px solid var(--primary);">
            <div style="display: flex; gap: 0.75rem; align-items: flex-start;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="flex-shrink: 0; margin-top: 2px;">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                <p style="color: var(--gray-700); font-size: 0.875rem; margin: 0;">
                    <strong>Automated Setup:</strong> VPN configuration will be generated automatically. 
                    The user can log in and download their config file immediately after creation.
                </p>
            </div>
        </div>
        
        <div class="form-group">
            <button type="submit" class="btn btn-success" style="width: 100%; padding: 0.875rem; font-size: 1rem;">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
                Create User Account
            </button>
        </div>
    </form>
</div>
{% endblock %}
